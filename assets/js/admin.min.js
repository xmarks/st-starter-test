jQuery(document).ready((function(e){e(".st-dismiss-plugin-notice").on("click",(function(t){t.preventDefault(),e.post(st_starter_plugin_notice.ajax_url,{action:"st_starter_dismiss_plugin_notice",nonce:st_starter_plugin_notice.nonce}),e(this).closest(".st-plugin-notice").fadeOut()}))})),jQuery((function(e){e(document).on("click",".upload-menu-image",(function(t){t.preventDefault();const i=e(this),n=i.closest(".field-image"),a=n.find(".menu-item-image-id"),s=n.find(".menu-image-preview"),m=n.find(".remove-menu-image");let o=i.data("media‑frame");o||(o=wp.media({title:"Select menu image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}),o.on("select",(()=>{const e=o.state().get("selection").first().toJSON();a.val(e.id).trigger("change");const t=e.sizes?.thumbnail?.url||e.url;s.html(`<img src="${t}" alt="">`),n.addClass("has-image"),i.text("Change"),m.show()})),i.data("media‑frame",o)),o.off("open").on("open",(()=>{const e=o.state().get("selection");e.reset();const t=parseInt(a.val(),10);if(t){const i=wp.media.attachment(t);i.fetch(),e.add(i)}})),o.open()})),e(document).on("click",".remove-menu-image",(function(t){t.preventDefault();const i=e(this).closest(".field-image"),n=i.find(".menu-item-image-id"),a=i.find(".menu-image-preview"),s=i.find(".upload-menu-image");n.val("").removeAttr("value"),a.empty(),i.removeClass("has-image"),s.text("Set image"),e(this).hide()}))}));